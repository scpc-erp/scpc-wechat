(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"0562":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=c(e("a34a")),r=c(e("5a48")),a=c(e("247c")),u=c(e("49e0"));function c(t){return t&&t.__esModule?t:{default:t}}function i(t,n,e,o,r,a,u){try{var c=t[a](u),i=c.value}catch(s){return void e(s)}c.done?n(i):Promise.resolve(i).then(o,r)}function s(t){return function(){var n=this,e=arguments;return new Promise(function(o,r){var a=t.apply(n,e);function u(t){i(a,o,r,u,c,"next",t)}function c(t){i(a,o,r,u,c,"throw",t)}u(void 0)})}}var f=function(){return e.e("components/m-input").then(e.bind(null,"5679"))},d={components:{mInput:f},data:function(){return{account:"admin",password:"123456",background:a.default,wechatIcon:"",wechatCode:""}},methods:{wxGetUserInfo:function(n){var e=this;t.login({provider:"weixin",success:function(n){e.wechatCode=n.code,t.getUserInfo({provider:"weixin",success:function(t){e.wechatIcon=t.userInfo.avatarUrl}})}}),e.updateUserInfo()},updateUserInfo:function(){var n=s(o.default.mark(function n(){var e;return o.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:if(0!=this.account.length){n.next=3;break}return t.showToast({icon:"none",title:"请输入正确的名称"}),n.abrupt("return");case 3:if(0!=this.password.length){n.next=6;break}return t.showToast({icon:"none",title:"请输入正确的密码"}),n.abrupt("return");case 6:return n.next=8,u.default.login(this.account,(0,r.default)(this.password),this.wechatIcon,this.wechatCode);case 8:e=n.sent,0==e.errno?(t.setStorageSync("user_name",e.data.name),t.setStorageSync("user_icon",e.data.photo),t.setStorageSync("user_group",e.data.bzmc),t.setStorageSync("token",e.data.token),t.showToast({icon:"none",title:"登录成功"}),setTimeout(function(){t.hideToast(),t.reLaunch({url:"../task/task"})},1500)):t.showToast({icon:"none",title:e.errmsg});case 10:case"end":return n.stop()}},n,this)}));function e(){return n.apply(this,arguments)}return e}()}};n.default=d}).call(this,e("543d")["default"])},"0f0d":function(t,n,e){"use strict";e.r(n);var o=e("0562"),r=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(n,t,function(){return o[t]})}(a);n["default"]=r.a},"358b":function(t,n,e){},"408d":function(t,n,e){"use strict";(function(t){e("1ec3"),e("921b");o(e("66fd"));var n=o(e("4d2b"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"4d2b":function(t,n,e){"use strict";e.r(n);var o=e("9d6f"),r=e("0f0d");for(var a in r)"default"!==a&&function(t){e.d(n,t,function(){return r[t]})}(a);e("782f");var u=e("2877"),c=Object(u["a"])(r["default"],o["a"],o["b"],!1,null,null,null);n["default"]=c.exports},"782f":function(t,n,e){"use strict";var o=e("358b"),r=e.n(o);r.a},"9d6f":function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement;t._self._c},r=[];e.d(n,"a",function(){return o}),e.d(n,"b",function(){return r})}},[["408d","common/runtime","common/vendor"]]]);